<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>OnePLus 8T</title>
    <link rel="stylesheet" href="stylesheets/style.css" />
  </head>
  <body>
    <div class="content-box wrapper-citrus-rental">
      <div class="page-section section-header">
        <div class="wrapper-video"></div>
        <div class="video-youtube">
          <video autoplay="" id="videoId" loop="" muted="" playsinline="">
            <source
              src="https://i.citrus.ua/uploads/promo/citrus-prokat/citrus_prokat_3.mp4?_t=1554295118"
              type="video/mp4"
            />
          </video>
          <img
            alt="Logo Citrus"
            class="logo-image"
            src="https://i.citrus.ua/uploads/promo/citrus-prokat/logo_prokat_new.png?_t=1555058526"
          />
        </div>
      </div>
      <div class="page-section section-mood">
        <div class="wrapper-mood">
          <div class="mood-left">
            <img
              alt="Фотография Электроскутера"
              height="600"
              src="https://i.citrus.ua/uploads/promo/citrus-prokat/gallery/Bike.png"
              width="645"
            />
          </div>
          <div class="mood-right">
            <div class="image-title">
              <img
                alt="Заряжаем ярким настроением"
                src="https://i.citrus.ua/uploads/promo/citrus-prokat/icon/nadpis.svg"
              />
            </div>
            <p class="font-black indent-small">
              Хватит скучать в выходные! Пора кататься на персональном
              транспорте! Освоили уже и велик, и ролики, и все остальное?
            </p>
            <p>
              Тогда добавь привычному развлечению новизны! Прогулку на
              электротранспорте ты не забудешь никогда! Откройся новым
              впечатлениям в Цитрус Прокате
            </p>
          </div>
        </div>
        <img
          alt="Фон"
          class="images-bg-desktop"
          height="587"
          src="https://i.citrus.ua/uploads/promo/citrus-prokat/bg/bg_02.png"
          width="165"
        />
        <img
          alt="Фон"
          class="images-bg-mobile"
          height="169"
          src="https://i.citrus.ua/uploads/promo/citrus-prokat/bg/bg_04_320.png"
          width="58"
        />
      </div>
      <div class="page-section section-store">
        <h2 class="title-h2 font-title">Точки проката</h2>
        <ul class="list-stores">
          <li class="item-store">
            <div class="store-image">
              <img
                alt="Фотография цитрус проката в Одессе Аркадийская аллея"
                class="item-image"
                height="258"
                src="https://i.citrus.ua/uploads/promo/citrus-prokat/gallery/odessa_arkadia.jpg"
                width="346"
              />
            </div>
            <div class="store-describe">
              <div class="locate-store">
                <h4 class="title-h4 font-black indent-mini">Одесса</h4>
                <div
                  class="font-text-store font-text-store--address font-dark line-location"
                >
                  Аркадийская аллея
                </div>
              </div>
              <div class="store-shedule">
                <div class="font-text-store font-dark line">
                  10:00 - 19:00 (Пн - Вс)
                </div>
              </div>
              <div class="store-phone">
                <div class="font-text-store font-dark">
                  <a href="tel:+380632095120">(063) 209-51-20</a>
                </div>
              </div>
              <div class="reserve-btn--wrap">
                <button
                  class="reserve-btn"
                  data-point="Одесса, Аркадийская аллея"
                >
                  Забронировать
                </button>
              </div>
            </div>
          </li>
          <li class="item-store">
            <div class="store-image">
              <img
                alt="Фотография цитрус проката в Одессе стадион Черноморец"
                class="item-image"
                height="258"
                src="https://i.citrus.ua/uploads/promo/citrus-prokat/gallery/odessa_stadion.jpg"
                width="346"
              />
            </div>
            <div class="store-describe">
              <div class="locate-store">
                <h4 class="title-h4 font-black indent-mini">Одесса</h4>
                <div
                  class="font-text-store font-text-store--address font-dark line-location"
                >
                  Стадион Черноморец
                </div>
              </div>
              <div class="store-shedule">
                <div class="font-text-store font-dark line">
                  10:00 - 19:00 (Пн - Вс)
                </div>
              </div>
              <div class="store-phone">
                <div class="font-text-store font-dark">
                  <a href="tel:+380931051535">(093) 105-15-35</a>
                </div>
              </div>
              <div class="reserve-btn--wrap">
                <button
                  class="reserve-btn"
                  data-point="Одесса, Стадион Черноморец"
                >
                  Забронировать
                </button>
              </div>
            </div>
          </li>
          <li class="item-store">
            <div class="store-image">
              <img
                alt="Киев ВДНХ"
                class="item-image"
                height="258"
                src="https://i.citrus.ua/uploads/promo/citrus-prokat/gallery/kiev_vdng.jpg"
                width="346"
              />
            </div>
            <div class="store-describe">
              <div class="locate-store">
                <h4 class="title-h4 font-black indent-mini">Киев</h4>
                <div
                  class="font-text-store font-text-store--address font-dark line-location"
                >
                  ВДНХ
                </div>
              </div>
              <div class="store-shedule">
                <div class="font-text-store font-dark line">
                  Закрыто до весны
                </div>
              </div>
              <div class="store-phone" style="opacity: 0; pointer-events: none">
                <div class="font-text-store font-dark">
                  <a href="tel:+380633429767">(063) 342-97-67</a>
                </div>
              </div>
              <div class="reserve-btn--wrap">
                <button class="reserve-btn" data-point="Киев, ВДНХ">
                  Забронировать
                </button>
              </div>
            </div>
          </li>
          <li class="item-store">
            <div class="store-image">
              <img
                alt="Киев Dream town 2"
                class="item-image"
                height="258"
                src="https://i.citrus.ua/uploads/promo/citrus-prokat/gallery/kiev_dream_town.jpg"
                width="346"
              />
            </div>
            <div class="store-describe">
              <div class="locate-store">
                <h4 class="title-h4 font-black indent-mini">Киев</h4>
                <div
                  class="font-text-store font-text-store--address font-dark line-location"
                >
                  Оболонский проспект, 21Б, "Dream town 2"
                </div>
              </div>
              <div class="store-shedule">
                <!-- <h5 class="title-h5 font-black">График работы</h5> -->
                <div class="font-text-store font-dark line">
                  10:00 - 21:00 (Пн - Вс)
                </div>
              </div>
            </div>
          </li>
        </ul>
      </div>
      <div class="page-section section-rent-table">
        <h2 class="title-h2 font-title">Стоимость проката</h2>
        <table cellpadding="5" id="rentTable" width="100%">
          <tbody>
            <tr class="rent-row rent-main-header">
              <td class="rent-cell rent-cell-mid" colspan="2">Транспорт</td>
              <td class="rent-cell rent-cell-long rent-title-align" colspan="6">
                Стоимость, грн
              </td>
            </tr>
            <tr class="rent-row rent-header rent--per-minutes">
              <td class="rent-cell rent-cell-mid" colspan="2">Время, мин</td>
              <td class="rent-cell rent-cell-small">15</td>
              <td class="rent-cell rent-cell-small">30</td>
              <td class="rent-cell rent-cell-small">60</td>
              <td class="rent-cell rent-cell-small">120</td>
              <td class="rent-cell rent-cell-small">180</td>
              <td class="rent-cell rent-cell-small">Залог</td>
            </tr>
            <tr class="rent-row rent-main-header">
              <td class="rent-cell rent-cell-mid cell-full" colspan="2">
                Транспорт
              </td>
              <td class="rent-cell rent-cell-long rent-title-align" colspan="2">
                Стоимость, грн
              </td>
            </tr>
            <tr class="rent-row rent-header rent-header-footer rent--per-day">
              <td class="rent-cell rent-cell-mid cell-full">Время</td>
              <td class="rent-cell rent-cell-small cell-full">День</td>
              <td class="rent-cell rent-cell-small cell-full">Залог</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="page-section section-conditions">
        <div class="contidions__container">
          <h2 class="title-h2 font-title">Условия проката</h2>
        </div>
        <ul class="items-conditions">
          <li class="item-condition">
            <span class="top-image"
              ><img
                alt="Картинка шага 1 с паспортом"
                src="https://i.citrus.ua/uploads/promo/citrus-prokat/icon/01.svg"
              />
            </span>
            <span class="bottom-text"> </span>
            <p>
              <span class="bottom-text"
                >Обязательно бери с собой паспорт, загранпаспорт или права</span
              >
            </p>
            <span class="bottom-text"> </span>
          </li>
          <li class="item-condition">
            <span class="top-image"
              ><img
                alt="Картинка шага 2 с кошельком"
                src="https://i.citrus.ua/uploads/promo/citrus-prokat/icon/02.svg"
              />
            </span>
            <span class="bottom-text"> </span>
            <p>
              <span class="bottom-text"
                >Для каждого транспорта на время проката вносится залоговая
                сумма</span
              >
            </p>
            <span class="bottom-text"> </span>
          </li>
          <li class="item-condition">
            <span class="top-image"
              ><img
                alt="Картинка шага 3 с иконкой 16+"
                src="https://i.citrus.ua/uploads/promo/citrus-prokat/icon/03.svg"
              />
            </span>
            <span class="bottom-text"> </span>
            <p>
              <span class="bottom-text"
                >Детям до 16 лет кататься можно только под присмотром
                родителей</span
              >
            </p>
            <span class="bottom-text"> </span>
          </li>
        </ul>
        <a
          href="https://i.citrus.ua/uploads/pravila/2021/april/dogovor_prokat.pdf?_t=1617871566"
          target="_blank"
          class="conditions__agreement"
          >Публичный договор проката</a
        >
      </div>
      <div class="page-section section-transport">
        <ul class="list-transports">
          <li class="item-transport">
            <span class="transport-image"
              ><img
                alt="Фотография электроскутера"
                height="322"
                src="https://i.citrus.ua/uploads/promo/citrus-prokat/gallery/moped.png"
                width="308"
              />
            </span>
            <h3 class="title-h3">
              <a href="https://www.citrus.ua/elektroskutery/" target="_blank"
                >Электроскутеры</a
              >
            </h3>
            <span class="transport-describe">
              Скутер он и в Африке скутер. И пусть он даже электро. Свои 45
              км/час он отработает на ура! Плюс — никакого бензина и выхлопных
              газов
            </span>
            <span class="transport-link">
              <a
                href="https://www.youtube.com/watch?v=8eFAoOEVsiI"
                target="_blank"
                >Смотреть обзор</a
              >
            </span>
          </li>
          <li class="item-transport">
            <span class="transport-image"
              ><img
                alt="Фотография минибайка"
                height="375"
                src="https://i.citrus.ua/uploads/promo/citrus-prokat/gallery/bike_transport.png"
                width="350"
              />
            </span>
            <h3 class="title-h3">
              <a href="https://www.citrus.ua/minibaiky/" target="_blank"
                >Минибайки</a
              >
            </h3>
            <span class="transport-describe">
              Минибайк выглядит как супергеройский транспорт. Да так оно и есть,
              потому что производители впервые собрали воедино мотоцикл, скутер
              и мопед
            </span>
            <span class="transport-link">
              <a
                href="https://www.youtube.com/watch?v=VZ_MtJJ33ng&t"
                target="_blank"
                >Смотреть обзор</a
              >
            </span>
          </li>
          <li class="item-transport">
            <span class="transport-image"
              ><img
                alt="Фотография электровелосипеда"
                height="258"
                src="https://i.citrus.ua/uploads/promo/citrus-prokat/gallery/velo.png"
                width="410"
              />
            </span>
            <h3 class="title-h3">
              <a href="https://www.citrus.ua/elektrovelosipedy/" target="_blank"
                >Электровелосипеды</a
              >
            </h3>
            <span class="transport-describe">
              Только не пугайся, это и правда велосипед! Эта широченная резина
              тебе точно пригодится, если любишь катать по бездорожью или пляжам
            </span>
            <span class="transport-link">
              <a
                href="https://www.youtube.com/embed/tWDoVIGeGGI"
                target="_blank"
                >Смотреть обзор</a
              >
            </span>
          </li>
          <li class="item-transport">
            <span class="transport-image"
              ><img
                alt="Фотография гироскутеров"
                height="278"
                src="https://i.citrus.ua/uploads/promo/citrus-prokat/gallery/giroskuter.png"
                width="362"
              />
            </span>
            <h3 class="title-h3">
              <a href="https://www.citrus.ua/scooters/" target="_blank"
                >Гироскутеры</a
              >
            </h3>
            <span class="transport-describe">
              Гироскутер часто называют гиробордом с ручкой. А мы и не против.
              Главное — он крут до безобразия! Катает тебя целых 3 часа или 30
              километров
            </span>
            <span class="transport-link">
              <a
                href="https://www.youtube.com/watch?v=RsVNS6Dq2g4&t"
                target="_blank"
                >Смотреть обзор</a
              >
            </span>
          </li>
          <li class="item-transport">
            <span class="transport-image"
              ><img
                alt="Фотография гироскутеров мини"
                height="226"
                src="https://i.citrus.ua/uploads/promo/citrus-prokat/gallery/giro_mini.png"
                width="382"
              />
            </span>
            <h3 class="title-h3">
              <a href="https://www.citrus.ua/scooters/" target="_blank"
                >Гироскутеры мини</a
              >
            </h3>
            <span class="transport-describe">
              А без рук на гироскутере можно? Не вопрос! Мини-гироскутер
              управляется коленями, но от этого хуже уж точно не становится.
              “Мал, да удал” — про него
            </span>
            <span class="transport-link">
              <a
                href="https://www.youtube.com/watch?v=zF8rmKtANQs&t"
                target="_blank"
                >Смотреть обзор</a
              >
            </span>
          </li>
          <li class="item-transport">
            <span class="transport-image"
              ><img
                alt="Фотография электросамокатов"
                height="293"
                src="https://i.citrus.ua/uploads/promo/citrus-prokat/gallery/samocat.png"
                width="296"
              />
            </span>
            <h3 class="title-h3">
              <a href="https://www.citrus.ua/elektrosamokaty/" target="_blank"
                >Электросамокаты</a
              >
            </h3>
            <span class="transport-describe">
              Да, ты не обознался. Перед тобой — самокат, прямиком из детства.
              Да только он не простой, а немного “прокачанный”
            </span>
            <span class="transport-link">
              <a
                href="https://www.youtube.com/embed/j7oizz1Gb34"
                target="_blank"
                >Смотреть обзор</a
              >
            </span>
          </li>
          <li class="item-transport">
            <span class="transport-image"
              ><img
                alt="Фотография моноколёс"
                height="239"
                src="https://i.citrus.ua/uploads/promo/citrus-prokat/gallery/monocoleso.png"
                width="464"
              />
            </span>
            <h3 class="title-h3">
              <a href="https://www.citrus.ua/monokolesa/" target="_blank"
                >Моноколеса</a
              >
            </h3>
            <span class="transport-describe">
              Выглядит круто, правда? Да и не только выглядит, между прочим! С
              этой штукой ты без проблем доберешься на работу или важную встречу
              вовремя
            </span>
            <span class="transport-link">
              <a
                href="https://www.youtube.com/watch?v=VojwP11X5c4"
                target="_blank"
                >Смотреть обзор</a
              >
            </span>
          </li>
          <li class="item-transport">
            <span class="transport-image"
              ><img
                alt="Фотография гиробордов"
                height="236"
                src="https://i.citrus.ua/uploads/promo/citrus-prokat/gallery/giriboard.png"
                width="321"
              />
            </span>
            <h3 class="title-h3">
              <a href="https://www.citrus.ua/gyroboards/" target="_blank"
                >Гироборды</a
              >
            </h3>
            <span class="transport-describe">
              Компактный, быстрый и маневренный транспорт от LiKe.Bike. Просто
              потрать 20 минут на обучение, а потом с гироборда тебя уже не
              стащишь
            </span>
            <span class="transport-link">
              <a
                href="https://www.youtube.com/embed/XmN1p1EuL5c"
                target="_blank"
                >Смотреть обзор</a
              >
            </span>
          </li>
          <li class="item-transport">
            <span class="transport-image"
              ><img
                alt="Фотография дрифткарта"
                height="269"
                src="https://i.citrus.ua/uploads/promo/citrus-prokat/gallery/drift.png"
                width="241"
              />
            </span>
            <h3 class="title-h3">
              <a href="https://www.citrus.ua/driftcars/" target="_blank"
                >Дрифт-карты</a
              >
            </h3>
            <span class="transport-describe">
              Крутой дрифт-карт - вот что нужно для настоящего "Форсажа". Этот
              электротранспорт для экстремальной езды всеми тремя колёсами
            </span>
            <span class="transport-link">
              <a
                href="https://www.youtube.com/embed/zd1TEA4O2f8"
                target="_blank"
                >Смотреть обзор</a
              >
            </span>
          </li>
        </ul>
      </div>
      <div class="page-section section-footer">
        <div class="section-footer__content">
          <a href="https://www.citrus.ua/prokat/" class="section-footer__link"
            >Сертификаты Цитрус Проката</a
          >
          <p class="section-footer__title">
            Подари друзьям и близким крутые впечатления
          </p>
        </div>
      </div>
      <div class="reserve-modal__overlay" style="display: none">
        <div class="reserve-modal">
          <h3 class="reserve-modal__title">Бронирование транспорта</h3>
          <button class="reserve-modal__close">
            <img
              class="reserve-modal__close-icon"
              src="https://i.citrus.ua/uploads/promo/citrus-prokat/close_orange.svg"
            />
          </button>
          <form class="reserve-modal__form">
            <label class="reserve-modal__label">
              <span class="reserve-modal__label-text">Имя</span>
              <input
                class="reserve-modal__label-input"
                type="text"
                name="fio|1517"
                required
                pattern="^(\S)[A-Za-zА-Яа-яЁёІіЇїЄє_ ]*$"
              />
              <span class="reserve-modal__validation-text"
                >Не корректное имя</span
              >
            </label>
            <label class="reserve-modal__label">
              <span class="reserve-modal__label-text">Телефон</span>
              <input
                autocomplete="off"
                class="reserve-modal__label-input"
                maxlength="19"
                name="phone|231"
                placeholder="+380 __ ___ __ __"
                pattern="[+]380\s\d{2}\s\d{3}\s\d{2}\s\d{2}"
                required=""
                title="Формат: +38 XXX XXX XX XX"
                type="tel"
              />
              <span class="reserve-modal__validation-text"
                >Не корректный номер телефона</span
              >
            </label>
            <label class="reserve-modal__label">
              <span class="reserve-modal__label-text">Email</span>
              <input
                class="reserve-modal__label-input"
                type="email"
                name="email|232"
                required
                pattern="[a-zA-Z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$"
              />
              <span class="reserve-modal__validation-text"
                >Не корректный email</span
              >
            </label>
            <div class="reserve-modal__label-wrap">
              <label class="reserve-modal__label reserve-modal__label--date">
                <span class="reserve-modal__label-text">Удобная дата</span>
                <input
                  class="reserve-modal__label-input reserve-modal__label-input--date"
                  name="date"
                  onfocus="blur()"
                  autocomplete="off"
                  type="text"
                  required
                />
                <span class="reserve-modal__label-icon"></span>
                <span class="reserve-modal__validation-text">Укажите дату</span>
              </label>
              <label class="reserve-modal__label reserve-modal__label--time">
                <span class="reserve-modal__label-text">Время</span>
                <input
                  class="reserve-modal__label-input reserve-modal__label-input--time"
                  name="time"
                  onfocus="blur()"
                  autocomplete="off"
                  type="text"
                  required
                />
                <span class="reserve-modal__label-icon"></span>
                <div class="reserve-modal__time-modal time-modal">
                  <div class="timepicker__hours">
                    <button
                      type="button"
                      class="timepicker__btn timepicker__btn--increase timepicker__btn--hours"
                    ></button>
                    <input
                      class="timepicker__input timepicker__input--hours"
                      type="text"
                      inputmode="numeric"
                      pattern="[0-9]*"
                      autocomplete="off"
                      value="10"
                    />
                    <button
                      type="button"
                      class="timepicker__btn timepicker__btn--decrease timepicker__btn--hours"
                    ></button>
                  </div>
                  <span class="timepicker__delimiter">:</span>
                  <div class="timepicker__minutes">
                    <button
                      type="button"
                      class="timepicker__btn timepicker__btn--increase timepicker__btn--minutes"
                    ></button>
                    <input
                      class="timepicker__input timepicker__input--minutes"
                      type="text"
                      autocomplete="off"
                      value="00"
                      inputmode="numeric"
                      pattern="[0-9]*"
                    />
                    <button
                      type="button"
                      class="timepicker__btn timepicker__btn--decrease timepicker__btn--minutes"
                    ></button>
                  </div>
                </div>
                <span class="reserve-modal__validation-text"
                  >Укажите время</span
                >
              </label>
            </div>
            <label class="reserve-modal__label">
              <span class="reserve-modal__label-text">Транспорт</span>
              <input
                class="reserve-modal__label-input reserve-modal__label-input--transport"
                onfocus="blur()"
                autocomplete="off"
                name="transport_type|1624"
                type="text"
                required
              />
              <span class="reserve-modal__label-icon"></span>
              <div class="reserve-modal__dropdown-selection"></div>
              <div class="reserve-modal__dropdown transport-dropdown"></div>
              <span class="reserve-modal__validation-text"
                >Выберите транспорт</span
              >
            </label>
            <input
              type="hidden"
              name="rental_point|1919"
              class="reserve-modal__label-input reserve-modal__rental-point"
            />
            <button class="reserve-modal__submit reserve-btn">
              Забронировать
            </button>
          </form>
        </div>

        <div class="reserve-modal reserve-thank">
          <button class="reserve-modal__close">
            <img
              class="reserve-modal__close-icon"
              src="https://i.citrus.ua/uploads/promo/citrus-prokat/close_orange.svg"
            />
          </button>
          <div class="reserve-thank__head">
            <h3 class="reserve-thank__head-title">Спасибо!</h3>
            <p class="reserve-thank__head-text">
              Заявка на бронирование принята <br />
              С вами свяжется менеджер для уточнения деталей
            </p>
          </div>
          <div class="reserve-thank__details"></div>
          <button class="reserve-thank__submit reserve-btn">ОК</button>
        </div>
      </div>
    </div>
  </body>

  <script>
    (function () {
      if (!window.dataLayer) {
        window.dataLayer = [];
      }

      const TRANSPORT = Object.freeze({
        perMinutes: [
          {
            img:
              'https://i.citrus.ua/uploads/promo/citrus-prokat/big_img/electroscooter.jpg',
            title: 'Электроскутер',
            cost: {
              15: '150',
              30: '300',
              60: '400',
              120: '550',
              180: '-',
            },
            deposit: '1 500',
          },
          {
            img:
              'https://i.citrus.ua/uploads/promo/citrus-prokat/big_img/electroscooter_zero.jpg',
            title: 'Минибайк Zero',
            cost: {
              15: '150',
              30: '300',
              60: '400',
              120: '550',
              180: '-',
            },
            deposit: '1 500',
          },
          {
            img:
              'https://i.citrus.ua/uploads/promo/citrus-prokat/big_img/doohan.jpg',
            title: 'Электроскутер Doohan',
            cost: {
              15: '200',
              30: '400',
              60: '600',
              120: '1 000',
              180: '-',
            },
            deposit: '2 000',
          },
          {
            img:
              'https://i.citrus.ua/uploads/promo/citrus-prokat/big_img/electro_bike.jpg',
            title: 'Электровелосипед',
            cost: {
              15: '50',
              30: '100',
              60: '200',
              120: '350',
              180: '450',
            },
            deposit: '1 000',
          },
          {
            img:
              'https://i.citrus.ua/uploads/promo/citrus-prokat/big_img/electro_vel.jpg',
            title: 'Электровелосипед FAT',
            cost: {
              15: '80',
              30: '150',
              60: '300',
              120: '450',
              180: '550',
            },
            deposit: '1 000',
          },
          {
            img:
              'https://i.citrus.ua/uploads/promo/citrus-prokat/big_img/vel.jpg',
            title: 'Велосипед',
            cost: {
              15: '-',
              30: '-',
              60: '70',
              120: '120',
              180: '180',
            },
            deposit: '500',
          },
          {
            img:
              'https://i.citrus.ua/uploads/promo/citrus-prokat/big_img/tandem.jpg',
            title: 'Велосипед Тандем',
            cost: {
              15: '-',
              30: '-',
              60: '120',
              120: '200',
              180: '300',
            },
            deposit: '1 000',
          },
          {
            img:
              'https://i.citrus.ua/uploads/promo/citrus-prokat/big_img/kids.jpg',
            title: 'Детский велосипед',
            cost: {
              15: '-',
              30: '-',
              60: '50',
              120: '80',
              180: '120',
            },
            deposit: '500',
          },
          {
            img:
              'https://i.citrus.ua/uploads/promo/citrus-prokat/big_img/begovel.jpg',
            title: 'Беговел',
            cost: {
              15: '20',
              30: '30',
              60: '50',
              120: '-',
              180: '-',
            },
            deposit: '500',
          },
          {
            img:
              'https://i.citrus.ua/uploads/promo/citrus-prokat/big_img/samokat_vzrosliy.jpg',
            title: 'Электросамокат взрослый (до 25 км/ч)',
            cost: {
              15: '100',
              30: '200',
              60: '300',
              120: '450',
              180: '-',
            },
            deposit: '1 000',
          },
          {
            img:
              'https://i.citrus.ua/uploads/promo/citrus-prokat/big_img/samokat_vzrosliy_2.jpg',
            title: 'Электросамокат взрослый (до 50 км/ч)',
            cost: {
              15: '150',
              30: '250',
              60: '350',
              120: '500',
              180: '-',
            },
            deposit: '1 000',
          },
          {
            img:
              'https://i.citrus.ua/uploads/promo/citrus-prokat/big_img/electrosamokat_kids.jpg',
            title: 'Электросамокат детский',
            cost: {
              15: '80',
              30: '150',
              60: '200',
              120: '-',
              180: '-',
            },
            deposit: '500',
          },
          {
            img:
              'https://i.citrus.ua/uploads/promo/citrus-prokat/big_img/trukovii.jpg',
            title: 'Самокат трюковой',
            cost: {
              15: '-',
              30: '-',
              60: '50',
              120: '-',
              180: '-',
            },
            deposit: '500',
          },
          {
            img:
              'https://i.citrus.ua/uploads/promo/citrus-prokat/big_img/giro_elit.jpg',
            title: 'Гироскутер элит',
            cost: {
              15: '200',
              30: '300',
              60: '400',
              120: '550',
              180: '-',
            },
            deposit: '1 500',
          },
          {
            img:
              'https://i.citrus.ua/uploads/promo/citrus-prokat/big_img/giroscooter_mini.jpg',
            title: 'Гироскутер мини',
            cost: {
              15: '100',
              30: '200',
              60: '300',
              120: '-',
              180: '-',
            },
            deposit: '1 000',
          },
          {
            img:
              'https://i.citrus.ua/uploads/promo/citrus-prokat/big_img/goroboard.jpg',
            title: 'Гироборд',
            cost: {
              15: '80',
              30: '150',
              60: '200',
              120: '-',
              180: '-',
            },
            deposit: '500',
          },
          {
            img:
              'https://i.citrus.ua/uploads/promo/citrus-prokat/big_img/mono.jpg',
            title: 'Моноколесо (до 25 км/ч)',
            cost: {
              15: '80',
              30: '150',
              60: '200',
              120: '-',
              180: '-',
            },
            deposit: '1 000',
          },
          {
            img:
              'https://i.citrus.ua/uploads/promo/citrus-prokat/big_img/mono_2.jpg',
            title: 'Моноколесо (до 30 км/ч)',
            cost: {
              15: '100',
              30: '200',
              60: '300',
              120: '-',
              180: '-',
            },
            deposit: '1 000',
          },
          {
            img:
              'https://i.citrus.ua/uploads/promo/citrus-prokat/big_img/ninebot-hoverboard-prokat.jpg',
            title: 'Go Kart Ninebot',
            cost: {
              15: '200',
              30: '300',
              60: '500',
              120: '-',
              180: '-',
            },
            deposit: '1 000',
          },
          {
            img:
              'https://i.citrus.ua/uploads/promo/citrus-prokat/big_img/bike_kids.jpg',
            title: 'Минибайк детский',
            cost: {
              15: '100',
              30: '200',
              60: '300',
              120: '-',
              180: '-',
            },
            deposit: '500',
          },
          {
            img:
              'https://i.citrus.ua/uploads/promo/citrus-prokat/big_img/driftcart.jpg',
            title: 'Дрифт-карт',
            cost: {
              15: '80',
              30: '150',
              60: '200',
              120: '-',
              180: '-',
            },
            deposit: '500',
          },
          {
            img:
              'https://i.citrus.ua/uploads/promo/citrus-prokat/big_img/car_kids.jpg',
            title: 'Детская машинка',
            cost: {
              15: '80',
              30: '150',
              60: '200',
              120: '-',
              180: '-',
            },
            deposit: '500',
          },
        ],
        perDay: [
          {
            img:
              'https://i.citrus.ua/uploads/promo/citrus-prokat/big_img/trukovii.jpg',
            title: 'Трюковый самокат',
            cost: '250',
            deposit: '500',
          },
          {
            img:
              'https://i.citrus.ua/uploads/promo/citrus-prokat/big_img/samokat_vzrosliy.jpg',
            title: 'Электросамокат взрослый (до 25 км/ч)',
            cost: '600',
            deposit: '1 000',
          },
          {
            img:
              'https://i.citrus.ua/uploads/promo/citrus-prokat/big_img/samokat_vzrosliy_2.jpg',
            title: 'Электросамокат взрослый (до 50 км/ч)',
            cost: '750',
            deposit: '1 000',
          },
          {
            img:
              'https://i.citrus.ua/uploads/promo/citrus-prokat/big_img/electro_bike.jpg',
            title: 'Электровелосипед',
            cost: '600',
            deposit: '1 000',
          },
          {
            img:
              'https://i.citrus.ua/uploads/promo/citrus-prokat/big_img/electro_vel.jpg',
            title: 'Электровелосипед FAT',
            cost: '700',
            deposit: '1 500',
          },
          {
            img:
              'https://i.citrus.ua/uploads/promo/citrus-prokat/big_img/vel.jpg',
            title: 'Велосипед',
            cost: '300',
            deposit: '1 500',
          },
          {
            img:
              'https://i.citrus.ua/uploads/promo/citrus-prokat/big_img/tandem.jpg',
            title: 'Тандем',
            cost: '450',
            deposit: '1 500',
          },
        ],
      });

      const NOW = new Date();

      function generateTransportTable() {
        const transportRowPerMinutes = document.querySelector(
          '.rent--per-minutes',
        );
        const transportRowPerDay = document.querySelector('.rent--per-day');

        const transportPerMinutesMarkup = TRANSPORT.perMinutes.reduce(
          (acc, transportRow) => {
            return (
              acc +
              `
               <tr class="rent-row rent-body">
                 <td class="rent-cell rent-cell-mid"><img alt="${transportRow.title}" class="image" src="${transportRow.img}"><span class="text-dashed">${transportRow.title}</span></td>
                 <td class="rent-cell rent-cell-small">${transportRow.cost['15']}</td>
                 <td class="rent-cell rent-cell-small">${transportRow.cost['30']}</td>
                 <td class="rent-cell rent-cell-small">${transportRow.cost['60']}</td>
                 <td class="rent-cell rent-cell-small">${transportRow.cost['120']}</td>
                 <td class="rent-cell rent-cell-small">${transportRow.cost['180']}</td>
                 <td class="rent-cell rent-cell-small">${transportRow.deposit}</td>
               </tr>
             `
            );
          },
          '',
        );

        const transportPerDayMarkup = TRANSPORT.perDay.reduce(
          (acc, transportRow) => {
            return (
              acc +
              `
               <tr class="rent-row rent-body rent-body-footer">
                 <td class="rent-cell rent-cell-mid cell-full">
                   <img alt="${transportRow.title}" class="image" src="${transportRow.img}">
                   <span class="text-dashed">${transportRow.title}</span>
                 </td>
                 <td class="rent-cell rent-cell-small cell-full">${transportRow.cost}</td>
                 <td class="rent-cell rent-cell-small cell-full">${transportRow.deposit}</td>
               </tr>
             `
            );
          },
          '',
        );

        transportRowPerMinutes.insertAdjacentHTML(
          'afterend',
          transportPerMinutesMarkup,
        );
        transportRowPerDay.insertAdjacentHTML(
          'afterend',
          transportPerDayMarkup,
        );
      }

      function generateTransportDropdown() {
        const transportDropdown = document.querySelector(
          '.reserve-modal__dropdown.transport-dropdown',
        );

        const transportDropdownItemMarkup = TRANSPORT.perMinutes.reduce(
          (acc, transportItem) => {
            return (
              acc +
              `<div class="transport-dropdown__item" data-title="${transportItem.title}">
                               <img src="${transportItem.img}" alt="${transportItem.title}" class="transport-dropdown__img">
                               <p class="transport-dropdown__description">${transportItem.title}</p>
                           </div>`
            );
          },
          '',
        );

        transportDropdown.insertAdjacentHTML(
          'afterbegin',
          transportDropdownItemMarkup,
        );
      }

      function mapLink(event) {
        let img = event.target.attributes;
        const nameTransport = event.target.className;

        if (document.documentElement.clientWidth > 580) {
          if (!img.src) {
            return;
          }
        } else {
          img = event.target.parentElement.children[0].attributes;
          if (nameTransport !== 'text-dashed') {
            return;
          }
        }
        document.body.style.overflow = 'hidden';
        const src = img.src.value;
        const alt = img.alt.value;

        const popup = document.createElement('div');
        popup.className = 'transport_type_popup';

        const popupBg = document.createElement('div');
        popupBg.className = 'transport_type_popup_bg';

        const popupClose = document.createElement('div');
        popupClose.className = 'transport_type_popup_close';
        popupClose.addEventListener('click', function (e) {
          if (e.target !== popupBg) {
            e.target.parentNode.parentNode.removeChild(e.target.parentNode);
            document.body.style.overflow = 'auto';
          }
        });

        const popupText = document.createElement('p');
        popupText.className = 'transport_type_popup_text';
        popupText.innerText = alt;

        const popupCross = document.createElement('img');
        popupCross.className = 'transport_type_popup_cross';
        popupCross.src =
          'https://i.citrus.ua/uploads/promo/citrus-prokat/close_orange.svg';
        popupCross.addEventListener('click', function (e) {
          e.target.parentNode.parentNode.parentNode.removeChild(
            e.target.parentNode.parentNode,
          );
          document.body.style.overflow = 'auto';
        });

        const popupMap = document.createElement('img');
        popupMap.className = 'transport_type_popup_map';
        popupMap.src = src;

        popupBg.appendChild(popupText);
        popupBg.appendChild(popupCross);
        popupBg.appendChild(popupMap);

        popup.appendChild(popupClose);
        popup.appendChild(popupBg);

        console.log(popup);

        document.getElementsByTagName('body')[0].appendChild(popup);

        popup.style.display = 'flex';
      }

      let rentTable = document.getElementById('rentTable');
      rentTable.addEventListener('click', mapLink);

      function createScript(url, onloadCb) {
        const bodyElement = document.getElementsByTagName('BODY')[0];
        const scriptContent = document.createElement('script');

        scriptContent.type = 'text/javascript';
        scriptContent.async = false;
        scriptContent.src = url;

        if (onloadCb) {
          scriptContent.onload = onloadCb;
        }
        bodyElement.appendChild(scriptContent);
      }

      function initDatePicker() {
        const dateInput = document.querySelector(
          '.reserve-modal__label-input--date',
        );
        createScript(
          'https://cdn.jsdelivr.net/npm/vanillajs-datepicker@1.0/dist/js/datepicker-full.min.js',
          () => {
            createScript(
              'https://cdn.jsdelivr.net/npm/vanillajs-datepicker@1.0/dist/js/locales/ru.js',
              () => {
                new Datepicker(dateInput, {
                  language: 'ru',
                  orientation: 'bottom',
                  daysOfWeekDisabled: [0, 6],
                  autohide: true,
                  minDate: NOW.setTime(NOW.getTime() + 4 * 60 * 60 * 1000),
                  maxDate: new Date(NOW.setFullYear(NOW.getFullYear() + 2)),
                });

                dateInput.addEventListener('changeDate', function () {
                  this.dispatchEvent(new Event('input'));
                });
              },
            );
          },
        );
        setTimeout(function () {
          document.querySelector(
            '.datepicker.datepicker-dropdown',
          ).style.display = 'none';
        }, 1000);
      }

      const timepicker = document.querySelector('.reserve-modal__time-modal');
      const dropdown = document.querySelector(
        '.reserve-modal__dropdown.transport-dropdown',
      );
      const reserveModalTimeInput = document.querySelector(
        '.reserve-modal__label-input--time',
      );
      const hoursTimepicker = document.querySelector(
        '.timepicker__input--hours',
      );
      const minutesTimepicker = document.querySelector(
        '.timepicker__input--minutes',
      );
      const maxHours = 19;
      const minHours = 10;
      const maxMinutes = 59;
      const minMinutes = 0;
      const maxMinutesForLastHour = 45;

      function isTimepickerOpen() {
        return timepicker.classList.contains(
          'reserve-modal__time-modal--shown',
        );
      }

      function getTimepickerValue() {
        return `${hoursTimepicker.value} : ${minutesTimepicker.value}`;
      }

      function setTime() {
        hoursTimepicker.value = validateTimeValue(
          hoursTimepicker.value,
          maxHours,
          minHours,
          maxMinutesForLastHour,
        );
        minutesTimepicker.value = validateTimeValue(
          minutesTimepicker.value,
          maxMinutes,
          minMinutes,
          maxMinutesForLastHour,
        );

        const time = getTimepickerValue();

        reserveModalTimeInput.value = time;
        reserveModalTimeInput.dispatchEvent(new Event('input'));
      }

      function validateTimeValue(
        value,
        maxValue,
        minValue,
        maxMinutesForLastHour,
      ) {
        let validatedValue = value;
        const valueNumber = +value;

        if (valueNumber < minValue) {
          validatedValue = String(minValue);
        } else if (value.length < 2) {
          validatedValue = `0${value}`;
        } else if (valueNumber > maxValue) {
          validatedValue = String(maxValue);
        }

        if (
          +hoursTimepicker.value === maxHours &&
          +minutesTimepicker.value > maxMinutesForLastHour
        ) {
          hoursTimepicker.value = String(maxHours);
          minutesTimepicker.value = String(maxMinutesForLastHour);
        }
        return validatedValue;
      }

      function hideTimepicker() {
        timepicker.classList.remove('reserve-modal__time-modal--shown');
      }

      function initTimepicker() {
        function showTimepicker() {
          timepicker.classList.add('reserve-modal__time-modal--shown');
        }

        function hideTimepicker() {
          timepicker.classList.remove('reserve-modal__time-modal--shown');
        }

        function hideDropdown() {
          dropdown.classList.remove('transport-dropdown--shown');
        }

        function setTimepickerBehaviour() {
          const timepickerInputs = Array.from(
            document.querySelectorAll('.timepicker__input'),
          );
          const timepickerBtns = Array.from(
            document.querySelectorAll('.timepicker__btn'),
          );
          const hoursTimeInput = document.querySelector(
            '.timepicker__input--hours',
          );
          const minutesTimeInput = document.querySelector(
            '.timepicker__input--minutes',
          );

          timepickerInputs.forEach((timepickerInput) => {
            const isHoursTimePicker = timepickerInput.classList.contains(
              'timepicker__input--hours',
            );
            const maxValue = isHoursTimePicker ? maxHours : maxMinutes;
            const minValue = isHoursTimePicker ? minHours : minMinutes;

            timepickerInput.addEventListener('input', function () {
              this.value = this.value
                .replace(/[^0-9.]/g, '')
                .replace(/(\..*)\./g, '$1');
            });

            timepickerInput.addEventListener('blur', function () {
              this.value = validateTimeValue(
                this.value,
                maxValue,
                minValue,
                maxMinutesForLastHour,
              );
            });
          });

          function changeTime(isIncrease, timeValue, maxValue, minValue) {
            if (isIncrease && timeValue < maxValue) {
              ++timeValue;
            } else if (!isIncrease && timeValue > minValue) {
              --timeValue;
            }

            return `0${timeValue}`.slice(-2);
          }

          timepickerBtns.forEach((timepickerBtn) => {
            timepickerBtn.addEventListener('click', function () {
              const isIncreaseBtn = this.classList.contains(
                'timepicker__btn--increase',
              );
              const isHoursBtn = this.classList.contains(
                'timepicker__btn--hours',
              );
              const maxValue = isHoursBtn ? maxHours : maxMinutes;
              const minValue = isHoursBtn ? minHours : minMinutes;
              const timeValue = isHoursBtn
                ? hoursTimeInput.value
                : minutesTimeInput.value;
              const newTime = changeTime(
                isIncreaseBtn,
                timeValue,
                maxValue,
                minValue,
              );

              isHoursBtn
                ? (hoursTimeInput.value = newTime)
                : (minutesTimeInput.value = newTime);

              if (
                +hoursTimepicker.value === maxHours &&
                +minutesTimepicker.value > maxMinutesForLastHour
              ) {
                hoursTimepicker.value = String(maxHours);
                minutesTimepicker.value = String(maxMinutesForLastHour);
              }
            });
          });
        }

        setTimepickerBehaviour();

        reserveModalTimeInput.addEventListener('focus', () => {
          showTimepicker();
          hideDropdown();
        });

        reserveModalTimeInput.addEventListener('click', (e) => {
          e.stopPropagation();
        });

        timepicker.addEventListener('click', (e) => {
          e.stopPropagation();
        });

        document.addEventListener('click', function (e) {
          const isClickInsideTimepicker = timepicker.contains(e.target);

          if (!isClickInsideTimepicker && isTimepickerOpen()) {
            hideTimepicker();
            setTime();
          }
        });
      }

      function initDropdown() {
        const transportInput = document.querySelector(
          '.reserve-modal__label-input--transport',
        );
        const dropdownSelection = document.querySelector(
          '.reserve-modal__dropdown-selection',
        );
        const dropdownItems = Array.from(
          document.querySelectorAll('.transport-dropdown__item'),
        );

        function showDropdown() {
          dropdown.classList.add('transport-dropdown--shown');
        }

        function hideDropdown() {
          dropdown.classList.remove('transport-dropdown--shown');
        }

        function isDropdownOpen() {
          return dropdown.classList.contains('transport-dropdown--shown');
        }

        transportInput.addEventListener('focus', () => {
          showDropdown();
        });

        transportInput.addEventListener('click', (e) => {
          e.stopPropagation();
          if (isTimepickerOpen()) {
            hideTimepicker();
            setTime();
          }
        });

        dropdownItems.forEach((dropdownItem) => {
          dropdownItem.addEventListener('click', function (e) {
            const selectedTransportMarkup = this.outerHTML;
            const selectedTransportValue = this.textContent.trim();

            dropdownSelection.innerHTML = selectedTransportMarkup;
            transportInput.value = selectedTransportValue;
            transportInput.dispatchEvent(new Event('input'));
            setTimeout(() => {
              hideDropdown();
              transportInput.blur();
            }, 0);
          });
        });

        document.addEventListener('click', function (e) {
          const isClickInsideDropdown = dropdown.contains(e.target);

          if (!isClickInsideDropdown && isDropdownOpen()) {
            hideDropdown();
          }
        });
      }

      function initReserveModal() {
        const reserveBtns = Array.from(
          document.querySelectorAll('.reserve-btn[data-point]'),
        );
        const reserveModalOverlay = document.querySelector(
          '.reserve-modal__overlay',
        );
        const reserveModal = document.querySelector('.reserve-modal');
        const thankModal = document.querySelector('.reserve-thank');
        const reserveModalCloseBtns = Array.from(
          document.querySelectorAll('.reserve-modal__close'),
        );
        const thanksModalSubmitBtn = document.querySelector(
          '.reserve-thank__submit',
        );
        const reserveForm = document.querySelector('.reserve-modal__form');
        const reserveInputs = Array.from(
          document.querySelectorAll('.reserve-modal__label-input'),
        );
        const phones = Array.from(
          document.querySelectorAll('input[type="tel"]'),
        );
        const rentalPointInput = document.querySelector(
          '.reserve-modal__rental-point',
        );
        const thankModalDetails = document.querySelector(
          '.reserve-thank__details',
        );

        document.getElementById('__nuxt').appendChild(reserveModalOverlay);

        function initPhoneMask(el) {
          let selectionStart = 9;
          let selectionEnd = 9;

          function initMask() {
            let x = el.value
              .replace(/\D/g, '')
              .match(
                /(\d{0,3})(\d{0,1})(\d{0,1})(\d{0,1})(\d{0,1})(\d{0,1})(\d{0,1})(\d{0,1})(\d{0,1})(\d{0,1})/,
              );
            el.value =
              '+380' +
              (x[2] ? ' ' + x[2] + x[3] : '') +
              (x[4] ? ' ' + x[4] + x[5] + x[6] : '') +
              (x[7] ? ' ' + x[7] + x[8] : '') +
              (x[9] ? ' ' + x[9] + x[10] : '');

            el.setSelectionRange(selectionStart, selectionStart);
          }

          function onKeyDown() {
            selectionStart = el.selectionStart;
            selectionEnd = el.selectionEnd;

            if (!event.code) {
              selectionStart = 17;
              return;
            }

            if (
              !event.key.match(/\d/) &&
              event.code !== 'Backspace' &&
              event.code !== 'Delete' &&
              event.code !== 'ArrowLeft' &&
              event.code !== 'ArrowRight' &&
              event.code !== 'Enter' &&
              event.code !== 'ControlLeft' &&
              event.code !== 'ControlRight' &&
              event.code !== 'KeyV' &&
              event.code !== 'Tab' &&
              event.code !== 'NumpadEnter'
            ) {
              event.preventDefault();
              return;
            }

            if (!event.key.match(/\d/)) {
              if (event.code === 'Backspace' || event.code === 'Delete') {
                if (selectionStart !== selectionEnd && selectionEnd >= 6) {
                  if (selectionStart < 4) {
                    selectionStart = 4;
                  }

                  let arr = el.value.split('');
                  arr.splice(selectionStart, selectionEnd - selectionStart);
                  el.value = arr.join('');

                  initMask();
                  event.preventDefault();
                  return;
                }
              }

              if (event.code === 'Backspace') {
                if (selectionStart <= 5) {
                  el.setSelectionRange(4, 4);
                  event.preventDefault();
                  return;
                }

                let arr = el.value.split('');
                selectionStart -= 1;

                while (
                  el.value[selectionStart] === undefined ||
                  !el.value[selectionStart].match(/\d/)
                ) {
                  selectionStart -= 1;
                }

                arr.splice(selectionStart, 1);
                el.value = arr.join('');

                initMask();
                event.preventDefault();
                return;
              }
              if (event.code === 'Delete') {
                if (selectionStart === el.value.length) {
                  event.preventDefault();
                  return;
                }

                if (selectionStart <= 3) {
                  el.setSelectionRange(4, 4);
                  event.preventDefault();
                  return;
                }

                let arr = el.value.split('');

                while (
                  el.value[selectionStart] === undefined ||
                  !el.value[selectionStart].match(/\d/)
                ) {
                  selectionStart += 1;
                }

                arr.splice(selectionStart, 1);
                el.value = arr.join('');

                initMask();
                event.preventDefault();
                return;
              }
              if (event.code === 'Enter') {
                return;
              }
            }

            if (event.key.match(/\d/)) {
              if (selectionStart !== selectionEnd && selectionEnd >= 6) {
                if (selectionStart < 4) {
                  selectionStart = 5;
                }

                let arr = el.value.split('');
                arr.splice(
                  selectionStart,
                  selectionEnd - selectionStart,
                  event.key,
                );
                el.value = arr.join('');

                selectionStart++;
                initMask();
                event.preventDefault();
                return;
              }

              if (el.value.length === 17) {
                event.preventDefault();
                return;
              }

              if (
                (selectionStart === 5 || selectionStart === 4) &&
                event.key === '0'
              ) {
                event.preventDefault();
                return;
              }

              if (selectionStart <= 3 && el.value.length >= 4) {
                el.setSelectionRange(4, 4);
                event.preventDefault();
                return;
              }

              if (selectionStart === el.value.length) {
                selectionStart = 17;
                return;
              }

              let arr = el.value.split('');

              while (!el.value[selectionStart].match(/\d/)) {
                selectionStart += 1;
              }

              arr.splice(selectionStart, 0, event.key);
              el.value = arr.join('');

              selectionStart += 1;

              initMask();
              event.preventDefault();
              return;
            }
          }

          function onInput() {
            initMask();
          }

          function onFocus() {
            if (!el.value.startsWith('+380')) {
              el.value = '+380';
              setTimeout(() => el.setSelectionRange(5, 5), 1);
            }
          }

          function onPaste() {
            let clipboardData;
            let pastedData;

            event.stopPropagation();
            event.preventDefault();

            clipboardData = event.clipboardData || window.clipboardData;
            pastedData = clipboardData.getData('Text');

            pastedData = pastedData.replace(/\D/g, '');

            if (pastedData.length >= 11 && pastedData.startsWith('380')) {
              pastedData = pastedData.slice(3);
            }

            if (selectionStart <= 5) {
              selectionStart = 5;
              while (pastedData.startsWith('0') && pastedData.length !== 0) {
                pastedData = pastedData.slice(1);
              }
            }

            let arr = el.value.split('');
            arr.splice(selectionStart, 0, pastedData);
            el.value = arr.join('');

            selectionStart = 17;
            initMask();
          }

          el.addEventListener('focus', onFocus);
          el.addEventListener('keydown', onKeyDown);
          el.addEventListener('input', onInput);
          el.addEventListener('paste', onPaste);
        }

        function showReserveModal() {
          reserveModalOverlay.classList.add('reserve-modal__overlay--shown');
          reserveModal.classList.add('reserve-modal--shown');
        }

        function hideReserveModal() {
          reserveModalOverlay.classList.remove('reserve-modal__overlay--shown');
          reserveModal.classList.remove('reserve-modal--shown');
          thankModal.classList.remove('reserve-thank--shown');
        }

        function showThankModal(formEl) {
          const formData = new FormData(formEl);
          const selectedTransportImgSrc = document
            .querySelector(
              '.reserve-modal__dropdown-selection .transport-dropdown__img',
            )
            .getAttribute('src');
          const selectedTransportTitle = formData.get('transport_type|1624');
          const selectedTransportPlace = formData.get('rental_point|1919');
          const selectedTransportDate = formData.get('date');
          const selectedTransportTime = formData.get('time');

          reserveModal.classList.remove('reserve-modal--shown');
          thankModal.classList.add('reserve-thank--shown');
          thankModalDetails.innerHTML = `<img class="reserve-thank__details-img" src="${selectedTransportImgSrc}" alt="${selectedTransportTitle}">
              <div>
                 <p class="reserve-thank__details-title">${selectedTransportTitle}</p>
                 <p class="reserve-thank__details-text reserve-thank__details-text--place">${selectedTransportPlace}</p>
                 <p class="reserve-thank__details-text reserve-thank__details-text--date">${selectedTransportDate}</p>
                 <p class="reserve-thank__details-text reserve-thank__details-text--time">${selectedTransportTime}</p>
              </div>`;
        }

        function preventBodyScroll() {
          document.querySelector('body').classList.add('no-scroll');
        }

        function allowBodyScroll() {
          document.querySelector('body').classList.remove('no-scroll');
        }

        function clearReserveForm() {
          reserveInputs.forEach((reserveInput) => {
            reserveInput.classList.remove(
              'reserve-modal__label-input--invalid',
            );
          });
        }

        function onHideReserveModal() {
          hideReserveModal();
          allowBodyScroll();
          clearReserveForm();
        }

        function prepareFormData(formEl) {
          const formData = new FormData(formEl);

          const dateAndTimeString = `${formData.get('date')} ${formData.get(
            'time',
          )}`;

          formData.delete('date');
          formData.delete('time');
          formData.append('date_and_time|1918', dateAndTimeString);

          return formData;
        }

        async function submitReserveForm(formData) {
          const uri = 'https://api.citrus.ua/forms/4848/answers';
          const config = {
            method: 'POST',
            body: prepareFormData(formData),
          };

          const response = await fetch(uri, config);
          const responseJson = await response.json();

          if (responseJson.code === 200) {
            dataLayer.push({
              event: 'CitrusProkat',
              eventCategory: 'CitrusProkat',
              eventAction: 'Form submit',
            });
            showThankModal(formData);
          }
        }

        reserveBtns.forEach((reserveBtn) => {
          reserveBtn.addEventListener('click', function () {
            const rentalPoint = this.dataset.point;
            showReserveModal();
            preventBodyScroll();
            rentalPointInput.value = rentalPoint;
          });
        });

        reserveModalCloseBtns.forEach((reserveModalCloseBtn) => {
          reserveModalCloseBtn.addEventListener('click', function () {
            onHideReserveModal();
          });
        });

        thanksModalSubmitBtn.addEventListener('click', function () {
          onHideReserveModal();
        });

        reserveModalOverlay.addEventListener('click', function (e) {
          if (e.target === this) {
            onHideReserveModal();
          }
        });

        phones.forEach((phone) => {
          initPhoneMask(phone);
        });

        reserveInputs.forEach((input) => {
          input.addEventListener('invalid', function (e) {
            e.preventDefault();
            this.classList.add('reserve-modal__label-input--invalid');
          });
        });

        reserveInputs.forEach((input) => {
          input.addEventListener('input', function (e) {
            e.preventDefault();
            this.classList.remove('reserve-modal__label-input--invalid');
          });
        });

        reserveForm.addEventListener('submit', function (e) {
          e.preventDefault();
          submitReserveForm(this);
        });
      }

      generateTransportTable();
      generateTransportDropdown();
      initReserveModal();
      initTimepicker();
      initDropdown();
    })();
  </script>
</html>
